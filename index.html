<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‡πÄ‡∏°‡∏ô‡∏π‡∏£‡πâ‡∏≤‡∏ô‡∏õ‡∏¥‡πâ‡∏á‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î</title>
  <style>
    body { font-family: 'Prompt', sans-serif; background: #fffaf3; padding: 1rem 2rem; color: #333; }
    h1 { text-align: center; color: #b22222; }
    h2 { color: #444; margin-top: 30px; border-bottom: 1px solid #ccc; padding-bottom: 5px; }
    .menu-section { margin-top: 20px; }
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 10px;
    }
    .menu-item {
      background: #fff;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #ddd;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    label { flex-grow: 1; }
    input[type="number"] {
      width: 60px;
      padding: 5px;
      font-size: 1rem;
    }
    button {
      background: #ff4d4d;
      color: white;
      border: none;
      padding: 12px 25px;
      font-size: 1.1rem;
      margin: 30px auto;
      display: block;
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    button:hover {
      background: #e60000;
    }
  </style>
</head>
<body>
  <h1>üç¢ ‡∏£‡πâ‡∏≤‡∏ô‡∏õ‡∏¥‡πâ‡∏á‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î - ‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h1>

  <form id="orderForm">
    <div class="menu-section">
      <h2>üî• ‡∏õ‡∏¥‡πâ‡∏á‡∏¢‡πà‡∏≤‡∏á</h2>
      <div class="menu-grid">
        <div class="menu-item"><label>‡∏ï‡∏±‡∏ö‡πÑ‡∏Å‡πà (15)</label><input type="number" name="‡∏ï‡∏±‡∏ö‡πÑ‡∏Å‡πà" min="0" value="0"></div>
        <div class="menu-item"><label>‡πÑ‡∏Å‡πà‡πÅ‡∏î‡∏á (10)</label><input type="number" name="‡πÑ‡∏Å‡πà‡πÅ‡∏î‡∏á" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏´‡∏°‡∏π‡∏ô‡∏°‡∏™‡∏î (10)</label><input type="number" name="‡∏´‡∏°‡∏π‡∏ô‡∏°‡∏™‡∏î" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ï‡∏π‡∏î‡πÑ‡∏Å‡πà (10)</label><input type="number" name="‡∏ï‡∏π‡∏î‡πÑ‡∏Å‡πà" min="0" value="0"></div>
        <div class="menu-item"><label>‡πÑ‡∏ï‡πÑ‡∏Å‡πà (10)</label><input type="number" name="‡πÑ‡∏ï‡πÑ‡∏Å‡πà" min="0" value="0"></div>
        <div class="menu-item"><label>‡πÑ‡∏™‡πâ‡πÑ‡∏Å‡πà (5)</label><input type="number" name="‡πÑ‡∏™‡πâ‡πÑ‡∏Å‡πà" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏õ‡∏µ‡∏Å‡πÑ‡∏Å‡πà‡∏õ‡∏¥‡πâ‡∏á (25)</label><input type="number" name="‡∏õ‡∏µ‡∏Å‡πÑ‡∏Å‡πà‡∏õ‡∏¥‡πâ‡∏á" min="0" value="0"></div>
        <div class="menu-item"><label>‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏∞‡πÇ‡∏û‡∏Å‡πÑ‡∏Å‡πà‡∏¢‡πà‡∏≤‡∏á (40)</label><input type="number" name="‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏™‡∏∞‡πÇ‡∏û‡∏Å‡πÑ‡∏Å‡πà‡∏¢‡πà‡∏≤‡∏á" min="0" value="0"></div>
        <div class="menu-item"><label>‡πÑ‡∏™‡πâ‡∏Å‡∏£‡∏≠‡∏Å (20)</label><input type="number" name="‡πÑ‡∏™‡πâ‡∏Å‡∏£‡∏≠‡∏Å" min="0" value="0"></div>
        <div class="menu-item"><label>‡πÅ‡∏´‡∏ô‡∏°‡∏õ‡∏¥‡πâ‡∏á (10)</label><input type="number" name="‡πÅ‡∏´‡∏ô‡∏°‡∏õ‡∏¥‡πâ‡∏á" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏Å‡∏∏‡∏ô‡πÄ‡∏ä‡∏µ‡∏¢‡∏á (10)</label><input type="number" name="‡∏Å‡∏∏‡∏ô‡πÄ‡∏ä‡∏µ‡∏¢‡∏á" min="0" value="0"></div>
        <div class="menu-item"><label>‡πÑ‡∏™‡πâ‡∏≠‡∏±‡πà‡∏ß (5)</label><input type="number" name="‡πÑ‡∏™‡πâ‡∏≠‡∏±‡πà‡∏ß" min="0" value="0"></div>
      </div>
    </div>

    <div class="menu-section">
      <h2>ü•ì ‡∏Ç‡∏≠‡∏á‡∏ó‡∏≠‡∏î</h2>
      <div class="menu-grid">
        <div class="menu-item"><label>‡∏´‡∏°‡∏π‡∏¢‡∏≠‡∏ó‡∏≠‡∏î (10)</label><input type="number" name="‡∏´‡∏°‡∏π‡∏¢‡∏≠‡∏ó‡∏≠‡∏î" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏õ‡∏µ‡∏Å‡πÑ‡∏Å‡πà (20)</label><input type="number" name="‡∏õ‡∏µ‡∏Å‡πÑ‡∏Å‡πà" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏™‡∏∞‡πÇ‡∏û‡∏Å‡πÑ‡∏Å‡πà‡πÄ‡∏•‡πá‡∏Å (25)</label><input type="number" name="‡∏™‡∏∞‡πÇ‡∏û‡∏Å‡πÑ‡∏Å‡πà‡πÄ‡∏•‡πá‡∏Å" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏™‡∏∞‡πÇ‡∏û‡∏Å‡πÑ‡∏Å‡πà‡πÉ‡∏´‡∏ç‡πà (40)</label><input type="number" name="‡∏™‡∏∞‡πÇ‡∏û‡∏Å‡πÑ‡∏Å‡πà‡πÉ‡∏´‡∏ç‡πà" min="0" value="0"></div>
        <div class="menu-item"><label>‡πÇ‡∏Ñ‡∏£‡∏á‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î (25)</label><input type="number" name="‡πÇ‡∏Ñ‡∏£‡∏á‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î" min="0" value="0"></div>
      </div>
    </div>

    <div class="menu-section">
      <h2>üçõ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏∏‡∏Å</h2>
      <div class="menu-grid">
        <div class="menu-item"><label>‡∏•‡∏≤‡∏ö‡∏´‡∏°‡∏π (25)</label><input type="number" name="‡∏•‡∏≤‡∏ö‡∏´‡∏°‡∏π" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ã‡∏∏‡∏õ‡∏´‡∏ô‡πà‡∏≠‡πÑ‡∏°‡πâ (25)</label><input type="number" name="‡∏ã‡∏∏‡∏õ‡∏´‡∏ô‡πà‡∏≠‡πÑ‡∏°‡πâ" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ú‡∏±‡∏î‡∏Ç‡∏¥‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ô‡πÑ‡∏Å‡πà (25)</label><input type="number" name="‡∏ú‡∏±‡∏î‡∏Ç‡∏¥‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏ô‡πÑ‡∏Å‡πà" min="0" value="0"></div>
      </div>
    </div>

    <div class="menu-section">
      <h2>ü•ó ‡∏™‡πâ‡∏°‡∏ï‡∏≥</h2>
      <div class="menu-grid">
        <div class="menu-item"><label>‡∏ï‡∏≥‡∏•‡∏≤‡∏ß (35)</label><input type="number" name="‡∏ï‡∏≥‡∏•‡∏≤‡∏ß" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ï‡∏≥‡πÑ‡∏ó‡∏¢ (40)</label><input type="number" name="‡∏ï‡∏≥‡πÑ‡∏ó‡∏¢" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ï‡∏≥‡∏õ‡∏π (40)</label><input type="number" name="‡∏ï‡∏≥‡∏õ‡∏π" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ï‡∏≥‡∏°‡∏±‡πà‡∏ß (45)</label><input type="number" name="‡∏ï‡∏≥‡∏°‡∏±‡πà‡∏ß" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ï‡∏≥‡∏ã‡∏±‡πà‡∏ß (35)</label><input type="number" name="‡∏ï‡∏≥‡∏ã‡∏±‡πà‡∏ß" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ï‡∏≥‡πÅ‡∏ï‡∏á (35)</label><input type="number" name="‡∏ï‡∏≥‡πÅ‡∏ï‡∏á" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ï‡∏≥‡πÇ‡∏Ñ‡∏£‡∏≤‡∏ä (45)</label><input type="number" name="‡∏ï‡∏≥‡πÇ‡∏Ñ‡∏£‡∏≤‡∏ä" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ï‡∏≥‡∏õ‡πà‡∏≤ (45)</label><input type="number" name="‡∏ï‡∏≥‡∏õ‡πà‡∏≤" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ï‡∏≥‡∏ñ‡∏±‡πà‡∏ß (40)</label><input type="number" name="‡∏ï‡∏≥‡∏ñ‡∏±‡πà‡∏ß" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ï‡∏≥‡∏´‡∏≠‡∏¢‡πÄ‡∏ä‡∏≠‡∏£‡∏µ‡πà (45)</label><input type="number" name="‡∏ï‡∏≥‡∏´‡∏≠‡∏¢‡πÄ‡∏ä‡∏≠‡∏£‡∏µ‡πà" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏ï‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏Æ‡πâ‡∏≤‡∏ô (‡πÄ‡∏ú‡πá‡∏î‡πÇ‡∏Ñ‡∏£‡∏ï‡πÜ) (45)</label><input type="number" name="‡∏ï‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏Æ‡πâ‡∏≤‡∏ô" min="0" value="0"></div>
      </div>
    </div>

    <div class="menu-section">
      <h2>üçú ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</h2>
      <div class="menu-grid">
        <div class="menu-item"><label>‡∏Ç‡∏ô‡∏°‡∏à‡∏µ‡∏ô (10)</label><input type="number" name="‡∏Ç‡∏ô‡∏°‡∏à‡∏µ‡∏ô" min="0" value="0"></div>
        <div class="menu-item"><label>‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß (10)</label><input type="number" name="‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß" min="0" value="0"></div>
      </div>
    </div>
<div class="menu-section">
  <h2>üìã ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</h2>
  <div class="menu-grid" style="grid-template-columns: 1fr;">
    <div class="menu-item">
      <label for="customerName">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á</label>
      <input type="text" name="customerName" id="customerName" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏à‡πä‡πÅ‡∏î‡∏á" />
    </div>
    <div class="menu-item">
      <label for="customerAddress">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</label>
      <input type="text" name="customerAddress" id="customerAddress" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏ï‡πä‡∏∞ 3 ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 12" />
    </div>
    <div class="menu-item">
      <label for="customerNote">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
      <input type="text" name="customerNote" id="customerNote" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà‡∏û‡∏£‡∏¥‡∏Å" />
    </div>
  </div>
</div>

    <button type="submit">üì¶ ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÑ‡∏õ LINE</button>
  </form>

  <!-- LIFF SDK -->
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

<script>
  const LIFF_ID = "2007610220-v33Db8O7"; // ‚úÖ ‡πÅ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô LIFF ID ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

  async function initLIFF() {
    await liff.init({ liffId: LIFF_ID });
    if (!liff.isLoggedIn()) liff.login();
  }

  initLIFF();

 document.getElementById("orderForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const formData = new FormData(e.target);
  const orderedItems = [];

  formData.forEach((value, key) => {
    const qty = parseInt(value);
    if (qty > 0) {
      // ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å label ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ HTML
      const label = document.querySelector(`input[name="${key}"]`).previousElementSibling.textContent;
      const priceMatch = label.match(/\((\d+)\)/); // ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏ô‡∏ß‡∏á‡πÄ‡∏•‡πá‡∏ö
      const price = priceMatch ? parseInt(priceMatch[1]) : 0;
      orderedItems.push({ name: key, qty, price });
    }
  });

  if (orderedItems.length === 0) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏î‡∏™‡∏±‡πà‡∏á!");
    return;
  }

  const contents = orderedItems.map(item => ({
    type: "box",
    layout: "baseline",
    contents: [{
      type: "text",
      text: `${item.name} x${item.qty} = ${item.qty * item.price}‡∏ø`,
      size: "sm",
      color: "#333333",
      wrap: true
    }]
  }));

  const total = orderedItems.reduce((sum, item) => sum + item.qty * item.price, 0);

  const flexMessage = {
    type: "flex",
    altText: "üßæ ‡∏≠‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì",
    contents: {
      type: "bubble",
      header: {
        type: "box",
        layout: "vertical",
        contents: [{
          type: "text",
          text: "‡∏≠‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏à‡∏≤‡∏Å‡∏£‡πâ‡∏≤‡∏ô‡∏õ‡∏¥‡πâ‡∏á‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î",
          size: "xl",
          weight: "bold",
          color: "#ffffff"
        }],
        backgroundColor: "#ff4d4d",
        paddingAll: "20px"
      },
      body: {
        type: "box",
        layout: "vertical",
        spacing: "md",
        contents: [
          {
          type: "text",
          text: `üë§ ‡∏ä‡∏∑‡πà‡∏≠: ${document.getElementById("customerName").value || '-'}`,
          size: "sm",
          wrap: true
        },
        {
          type: "text",
          text: `üìç ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà/‡πÇ‡∏ï‡πä‡∏∞: ${document.getElementById("customerAddress").value || '-'}`,
          size: "sm",
          wrap: true
        },
        {
          type: "text",
          text: `üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ${document.getElementById("customerNote").value || '-'}`,
          size: "sm",
          wrap: true
        }
          {
            type: "text",
            text: "‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏±‡πà‡∏á:",
            size: "md",
            weight: "bold"
          },
          {
            type: "box",
            layout: "vertical",
            spacing: "sm",
            contents: contents
          },
          {
            type: "separator",
            margin: "md"
          },
          {
            type: "box",
            layout: "horizontal",
            contents: [
              {
                type: "text",
                text: "‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°",
                weight: "bold",
                size: "md"
              },
              
              {
                type: "text",
                text: `${total}‡∏ø`,
                weight: "bold",
                size: "md",
                align: "end",
                color: "#e60000"
              }
              
            ]
          }
        ]
      }
    }
  };

  try {
    if (!liff.isInClient()) {
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡πÅ‡∏≠‡∏õ LINE ‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ");
      return;
    }

    await liff.sendMessages([flexMessage]);
    alert("‚úÖ ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!");
    liff.closeWindow();
  } catch (err) {
    alert("‚ùå ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: " + err.message);
  }
});

</script>

</body>
</html>